# Database (Postgres in Docker)
DATABASE_URL=postgresql://user:password@localhost:5432/videoplatform

# Auth: pre-defined users only (no registration). Format: email1:password1,email2:password2
AUTH_USERS=admin@example.com:yourpassword

# Redis (for screencast queue)
REDIS_URL=redis://localhost:6379

# Screencast worker (optional)
RECORDING_STRATEGY=puppeteer-stream # puppeteer-stream (local, default) or docker (server)
# For audio capture, use full Chrome instead of bundled Chromium (macOS example):
# PUPPETEER_EXECUTABLE_PATH=/Applications/Google Chrome.app/Contents/MacOS/Google Chrome
SCREENCAST_VIEWPORT_WIDTH=1920
SCREENCAST_VIEWPORT_HEIGHT=1440
# headless=new by default (no visible window). Set to false for visible window (e.g. debugging)
# SCREENCAST_HEADLESS=false
# Window position when headed (SCREENCAST_HEADLESS=false). macOS often ignores this.
SCREENCAST_WINDOW_POSITION=9999,9999
SCREENCAST_WINDOW_SIZE=1920,1080
SCREENCAST_MAX_DURATION=600
# Auto-stop: selector for "Total Win" or similar; if unchanged for SCREENCAST_IDLE_SECONDS, recording stops
# SCREENCAST_IDLE_SELECTOR=[class*="total-win"]
# SCREENCAST_IDLE_SECONDS=40
# SCREENCAST_CONSOLE_END_PATTERNS=["Round Finished"]
# Live preview: worker sends screenshots to backend. Set the same secret on backend.
BACKEND_URL=http://host.docker.internal:3000
SCREENCAST_PREVIEW_SECRET=your_random_secret_here

# Workflow cache (persistent, survives server restart). Default: ./workflow-cache
# WORKFLOW_CACHE_BASE=./workflow-cache

# Cloudflare R2 (required for uploads and screencast)
R2_ACCOUNT_ID=your_account_id
R2_ACCESS_KEY_ID=your_access_key_id
R2_SECRET_ACCESS_KEY=your_secret_access_key
R2_BUCKET_NAME=content-generator
R2_ENDPOINT=https://YOUR_ACCOUNT_ID.r2.cloudflarestorage.com
